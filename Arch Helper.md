# Artix-Arch Helper 
Some tips on setting up certain features from a Clean/Base install. Instructions are given with ID like AB1234 to easily list if one process is dependent on the other and vice versa. Some instructions might be based on openrc init system. Please find suitable commands in runit, s6 or systemd to follow along.

## Terminal/Vim Color helper links (CL001)
In order to precisely set color in terminal/vim, we can either set colors with name like 'DarkBlue' or to be more precise, we can use the color chart which consists of various numbers that can be used.

```
*cterm-colors*

NR-16   NR-8    COLOR NAME 
0       0       Black
1       4       DarkBlue
2       2       DarkGreen
3       6       DarkCyan
4       1       DarkRed
5       5       DarkMagenta
6       3       Brown, DarkYellow
7       7       LightGray, LightGrey, Gray, Grey
8       0*      DarkGray, DarkGrey
9       4*      Blue, LightBlue
10      2*      Green, LightGreen
11      6*      Cyan, LightCyan
12      1*      Red, LightRed
13      5*      Magenta, LightMagenta
14      3*      Yellow, LightYellow
15      7*      White
```

Color Chart: https://upload.wikimedia.org/wikipedia/commons/1/15/Xterm_256color_chart.svg


## Fix no logs being generated by programs like CRON (SY003)
When we do a base install of artix/arch specially with an init system other than systemd, we do not get a system logger pre-installed which has the responsibility to write logs for various programs that rely on calls like SYSLOG().

**For systemd** -> we have syslogd to take care of system logs

**For runit, openrc, S6** -> no such mechanism is inbuilt as their ideology is to be focused on 1 job only that is to be the main process to starts other daemons. Other 'bloat' is not included.

To fix this, we need to install a custom syslog implementaion called syslog-ng which will delegate this task for us.

```
pacman -S syslog-ng syslog-ng-openrc
sudo rc-update add syslog-ng default
sudo rc-service syslog-ng start
```

## LightDM setup with DWM
***! This process is liked with [], please first carry out that to follow instructions here. !***

The main components are:
- lightdm
- lightdm-webkit2-greeter (Login theme/GUI)

```
sudo pacman -S lightdm lightdm-webkit2-greeter
```

After that we basically need to create a desktop entry that would start dwm when we login. The catch is that like .xinitrc, we need to launch various other programs like nitrogen and picom before launching dwm. For that we will give the executable as a script rather than just 'dwm'.

---
***It is very important to chmod +x both the desktop entry and the script to make it so that LightDM can execute them after we login with our user since by default only root user can do it*** 

---

### I. Creating the XSession entry for DWM 
Firstly we will go to the directory which stores the entry's for XSessions that the Display Manager can read. If this directory is not available go ahead and create it.

```
cd /usr/share/xsessions
```
Next up is creating the actual entry:

```
sudo vim dwm-session.desktop
```

Contents:
```
[Desktop Entry]
Encoding=UTF-8
Name=dwm
Comment=Dynamic window manager
Path=/usr/local/bin/dwm-session.sh
Exec=/usr/local/bin/dwm-session.sh
TryExec=/usr/local/bin/dwm-session.sh
Icon=dwm
Type=XSession
```
Now make it executable by LightDM in the context of our user:
```
sudo chmod +x dwm-session.desktop
```

### II. Creating custom startup script for DWM & its dependencies
As we saw in the previous step, we pointed to a file called "dwm-session.sh". We will create that file now.

Go to the directory:
```
cd /usr/local/bin
```

Create the script:
```
sudo vim dwm-session.sh
```

Contents:
```
#!/bin/bash
/home/yachint/dwm-bar/dwm_bar.sh &
setxkbmap us &
picom -f &
nitrogen --restore &
exec dwm
```

Change the execution permissions here also:
```
sudo chmod +x dwm-session.sh
```

### III. Add greeter session to Lightdm.conf
In order for Lightdm to identify and use our installed greeter, we have to specifically tell it to use it in the config file.

After doing this change, LightDM will automatically start the relevant programs like picom, nitrogen and dwm-bar before starting dwm, exactly like in .xinitrc just that with a Display manager we get proper login screen and ability to log back into the session after sleep/hibernation.

## Sound Setup (SU001)
To enable sound we require these packages:
- alsa
- alsa-utils
- alsamixer (To control volume through terminal)
- pulseaudio (Required by browsers like Firefox and GUI Frontend)
- pavucontrol (GUI for controlling audio)

```
sudo pacman -S alsa alsa-utils alsamixer pulseaudio pavucontrol
```

## Mouse Accelaration (MA002)
Find your mouse in the list of input devices using:
```
xinput list
```

Note down its ID and use the following command to decrease/increase speed (Range: -1 to 1):
```
xinput --set-prop 12 'libinput Accel Speed' -0.7
```
